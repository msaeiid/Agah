{% extends 'Base.html' %}
{% block title %}
    بخش جملات
{% endblock %}
{% block header %}
    <div class="question">
        <h5>
            {{ A13.code }}
            {{ A13.title }}
        </h5>
    </div>
{% endblock %}
{% block content %}
    <form method="post">
        {% csrf_token %}
        <div class="question 1 ">
            <h5>
                {{ A13_1.code }}
                {{ A13_1.title }}
            </h5>
            <div id="option">
                {{ form.A13_1 }}
                <div class="clearfix">
                    <button type="button" step="1" name="{{ A13_1.code }}" disabled value="previous"
                            class="float-right btn btn-primary">
                        پرسش قبل
                    </button>
                    <button type="button" step="1" name="{{ A13_1.code }}" value="next"
                            class="float-left btn btn-primary">پرسش
                        بعد
                    </button>
                </div>
            </div>
        </div>
        <div class="question hide 2 ">
            <h5>
                {{ A13_2.code }}
                {{ A13_2.title }}
            </h5>
            <div id="option">
                {{ form.A13_2 }}
                <div class="clearfix">
                    <button type="button" step="2" name="{{ A13_2.code }}" value="previous"
                            class="float-right btn btn-primary">
                        پرسش قبل
                    </button>
                    <button type="button" step="2" name="{{ A13_2.code }}" value="next"
                            class="float-left btn btn-primary">پرسش
                        بعد
                    </button>
                </div>
            </div>
        </div>
        <div class="question hide 3 ">
            <h5>
                {{ A13_3.code }}
                {{ A13_3.title }}
            </h5>
            <div id="option">
                {{ form.A13_3 }}
                <div class="clearfix">
                    <button type="button" step="3" name="{{ A13_3.code }}" value="previous"
                            class="float-right btn btn-primary">
                        پرسش قبل
                    </button>
                    <button type="button" step="3" name="{{ A13_3.code }}" value="next"
                            class="float-left btn btn-primary">پرسش
                        بعد
                    </button>
                </div>
            </div>
        </div>
        <div class="question hide 4 ">
            <h5>
                {{ A13_4.code }}
                {{ A13_4.title }}
            </h5>
            <div id="option">
                {{ form.A13_4 }}
                <div class="clearfix">
                    <button type="button" step="4" name="{{ A13_4.code }}" value="previous"
                            class="float-right btn btn-primary">
                        پرسش قبل
                    </button>
                    <button type="button" step="4" name="{{ A13_4.code }}" value="next"
                            class="float-left btn btn-primary">پرسش
                        بعد
                    </button>
                </div>
            </div>
        </div>
        <div class="question hide 5 ">
            <h5>
                {{ A13_5.code }}
                {{ A13_5.title }}
            </h5>
            <div id="option">
                {{ form.A13_5 }}
                <div class="clearfix">
                    <button type="button" step="5" name="{{ A13_5.code }}" value="previous"
                            class="float-right btn btn-primary">
                        پرسش قبل
                    </button>
                    <button type="button" step="5" name="{{ A13_5.code }}" value="next"
                            class="float-left btn btn-primary">پرسش
                        بعد
                    </button>
                </div>
            </div>
        </div>
        <div class="question hide 6 ">
            <h5>
                {{ A13_6.code }}
                {{ A13_6.title }}
            </h5>
            <div id="option">
                {{ form.A13_6 }}
                <div class="clearfix">
                    <button type="button" step="6" name="{{ A13_6.code }}" value="previous"
                            class="float-right btn btn-primary">
                        پرسش قبل
                    </button>
                    <button type="button" step="6" name="{{ A13_6.code }}" value="next"
                            class="float-left btn btn-primary">پرسش
                        بعد
                    </button>
                </div>
            </div>
        </div>
        <div class="question hide 7 ">
            <h5>
                {{ A13_7.code }}
                {{ A13_7.title }}
            </h5>
            <div id="option">
                {{ form.A13_7 }}
                <div class="clearfix">
                    <button type="button" step="7" name="{{ A13_7.code }}" value="previous"
                            class="float-right btn btn-primary">
                        پرسش قبل
                    </button>
                    <button type="submit" step="7" class="float-left btn btn-success">تایید نهایی
                    </button>
                </div>
            </div>
        </div>
    </form>
{% endblock %}
{% block exta_header %}
    <style>
        button {
            margin: 10px;
        }
    </style>
{% endblock %}
{% block js %}
    <script>
        $('button').addClass('col-lg-5 col-md-5 col-sm-5 col-5')
        $('input[type=checkbox]').click(function () {
            var selected_item_class = $(this).attr('class')
            if (parseInt(this.value) === 99) {
                $('input[type=checkbox][value!=99][class=' + selected_item_class + ']:checked').prop('checked', false)
            } else {
                $('input[type=checkbox][value=99][class=' + selected_item_class + ']:checked').prop('checked', false)
            }
        });
        $('button[type=button][value=next]').click(function () {
            var selected_item_step = $(this).attr('step')
            var count = $('input[type=checkbox][class=' + selected_item_step + ']:checked').length
            if (count == 0) {
                alert('لطفا یک گزینه را انتخاب کنید')
            } else {
                $('div.' + selected_item_step + '').addClass('hide')
                $('div.' + ++selected_item_step + '').removeClass('hide')
            }
        });
        $('button[type=submit]').click(function () {
            var selected_item_step = $(this).attr('step')
            var count = $('input[type=checkbox][class=' + selected_item_step + ']:checked').length
            if (count == 0) {
                alert('لطفا یک گزینه را انتخاب کنید')
                return false
            } else {
                return true
            }
        });
        $('button[type=button][value=previous]').click(function () {
            var selected_item_step = $(this).attr('step')
            $('div.' + selected_item_step + '').addClass('hide')
            $('div.' + --selected_item_step + '').removeClass('hide')
        });
        $('form').submit(function (){
           var agree=confirm('پس از تایید پرسشنامه ویرایش آن امکان پذیر نیست')
            if (agree ==true)
            {
                return true
            }
            else {
                return false
            }
        });
    </script>
{% endblock %}